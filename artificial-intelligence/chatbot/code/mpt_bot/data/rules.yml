version: "3.1"

rules:
- rule: Respond to asking about a specific feature
  steps:
  - intent: ask_about_feature
  - action: action_check_feature

- rule: Respond to asking about all features of a station
  steps:
  - intent: ask_about_station
  - action: action_check_station

- rule: Respond to listing all stations
  steps:
  - intent: list_all_stations
  - action: action_list_all_stations

- rule: Handle fallback when no intent is recognized
  steps:
  - intent: nlu_fallback
  - action: utter_default

#- rule: Respond to route accessibility check
#  steps:
#  - intent: check_route_accessibility
#  - action: action_check_route_accessibility

#- rule: Respond to feature check along a route
#  steps:
#  - intent: check_features_on_route
#  - action: action_check_features_on_route

- rule: Respond to asking for stations with a specific feature
  steps:
  - intent: list_stations_with_feature
  - action: action_list_stations_with_feature

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Direct route inquiry
  steps:
  - intent: ask_direct_route
  - action: action_check_direct_route

- rule: Transfer inquiry
  steps:
  - intent: ask_transfers
  - action: action_calculate_transfers

- rule: Best route inquiry
  steps:
  - intent: ask_best_route
  - action: action_find_best_route_with_transfers

- rule: Find route with least stops
  steps:
  - intent: ask_least_stops_route
  - action: action_find_route_with_least_stops

- rule: Find quickest route with transfers
  steps:
  - intent: ask_quickest_route
  - action: action_find_best_route

- rule: Ask for location when running direction script
  steps:
  - intent: run_direction_script
  - action: utter_ask_location

- rule: Ask for destination after providing location
  steps:
  - intent: provide_location
  - action: utter_ask_destination  

- rule: Execute direction script after providing destination
  steps:
  - intent: provide_destination
  - action: action_run_direction_script

- rule: Find next train timing
  steps:
  - intent: ask_next_train
  - action: action_find_next_train

#AlexT - P2  
- rule: Respond to next bus query
  steps:
  - intent: find_next_bus
  - action: action_find_next_bus

#AlexT - P2
- rule: Respond to next tram query
  steps:
  - intent: find_next_tram
  - action: action_find_next_tram

#AlexT - P2
- rule: Generate tram map
  steps:
    - intent: request_tram_map
    - action: action_generate_tram_map

#AlexT - P2
- rule: Generate bus map
  steps:
    - intent: request_bus_map
    - action: action_generate_bus_map

- rule: Provide closest tram stop
  steps:
    - intent: ask_closest_tram_stop
    - action: action_find_closest_tram_stop

- rule: Find direct tram route
  steps:
    - intent: ask_direct_tram_route
    - action: action_check_direct_tram_route